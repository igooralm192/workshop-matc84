(window["webpackJsonpjson-desafio"]=window["webpackJsonpjson-desafio"]||[]).push([[0],{52:function(t,e,i){t.exports=i(73)},57:function(t,e,i){},73:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),o=i(7),h=i.n(o),a=(i(57),i(22)),r=i(11),l=i(24),c=i(25),d=i(28),u=i(44),p=i.n(u);i(58),i(66),i(68);function f(){this.fps=30,this.canvas=null,this.width=0,this.width=0,this.minVelocity=15,this.maxVelocity=30,this.stars=100,this.intervalId=0}function v(t,e,i,n){this.x=t,this.y=e,this.size=i,this.velocity=n}f.prototype.initialise=function(t){var e=this;this.containerDiv=t,e.width=window.innerWidth,e.height=window.innerHeight,window.onresize=function(t){e.width=window.innerWidth,e.height=window.innerHeight,e.canvas.width=e.width,e.canvas.height=e.height,e.draw()};var i=document.createElement("canvas");t.appendChild(i),this.canvas=i,this.canvas.width=this.width,this.canvas.height=this.height},f.prototype.start=function(){for(var t=[],e=0;e<this.stars;e++)t[e]=new v(Math.random()*this.width,Math.random()*this.height,3*Math.random()+1,Math.random()*(this.maxVelocity-this.minVelocity)+this.minVelocity);this.stars=t;var i=this;this.intervalId=setInterval(function(){i.update(),i.draw()},1e3/this.fps)},f.prototype.stop=function(){clearInterval(this.intervalId)},f.prototype.update=function(){for(var t=1/this.fps,e=0;e<this.stars.length;e++){var i=this.stars[e];i.y+=t*i.velocity,i.y>this.height&&(this.stars[e]=new v(Math.random()*this.width,0,3*Math.random()+1,Math.random()*(this.maxVelocity-this.minVelocity)+this.minVelocity))}},f.prototype.draw=function(){var t=this.canvas.getContext("2d");t.fillStyle="#000000",t.fillRect(0,0,this.width,this.height),t.fillStyle="#ffffff";for(var e=0;e<this.stars.length;e++){var i=this.stars[e];t.fillRect(i.x,i.y,i.size,i.size)}};var y=null;function g(){this.config={bombRate:.05,bombMinVelocity:50,bombMaxVelocity:50,invaderInitialVelocity:25,invaderAcceleration:0,invaderDropDistance:20,rocketVelocity:120,rocketMaxFireRate:2,gameWidth:400,gameHeight:300,fps:50,debugMode:!1,invaderRanks:5,invaderFiles:10,shipSpeed:120,levelDifficultyMultiplier:.2,pointsPerInvader:5,limitLevelIncrease:25},this.lives=3,this.width=0,this.height=0,this.gameBounds={left:0,top:0,right:0,bottom:0},this.intervalId=0,this.score=0,this.level=1,this.stateStack=[],this.pressedKeys={},this.gameCanvas=null,this.sounds=null,this.previousX=0}function m(){}function w(){}function x(t,e){this.config=t,this.level=e,this.invaderCurrentVelocity=10,this.invaderCurrentDropDistance=0,this.invadersAreDropping=!1,this.lastRocketTime=null,this.ship=null,this.invaders=[],this.rockets=[],this.bombs=[]}function b(){}function S(t){this.level=t,this.countdownMessage="3"}function k(t,e){this.x=t,this.y=e,this.width=20,this.height=16}function V(t,e,i){this.x=t,this.y=e,this.velocity=i}function I(t,e,i){this.x=t,this.y=e,this.velocity=i}function M(t,e,i,n,s){this.x=t,this.y=e,this.rank=i,this.file=n,this.type=s,this.width=18,this.height=14}function C(){this.audioContext=null,this.sounds={}}g.prototype.setGame=function(t){y=t},g.prototype.initialise=function(t){this.gameCanvas=t,this.width=t.width,this.height=t.height,this.gameBounds={left:t.width/2-this.config.gameWidth/2,right:t.width/2+this.config.gameWidth/2,top:t.height/2-this.config.gameHeight/2,bottom:t.height/2+this.config.gameHeight/2}},g.prototype.moveToState=function(t){this.currentState()&&this.currentState().leave&&(this.currentState().leave(y),this.stateStack.pop()),t.enter&&t.enter(y),this.stateStack.pop(),this.stateStack.push(t)},g.prototype.start=function(){this.moveToState(new m),this.lives=3,this.config.debugMode=/debug=true/.test(window.location.href),console.log(this),y=this,this.intervalId=setInterval(function(){!function(t){var e=t.currentState();if(e){var i=1/t.config.fps,n=t.gameCanvas.getContext("2d");e.update&&e.update(t,i),e.draw&&e.draw(t,i,n)}}(y)},1e3/this.config.fps)},g.prototype.currentState=function(){return this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null},g.prototype.mute=function(t){this.sounds.mute=!0===t||!1!==t&&!this.sounds.mute},g.prototype.pushState=function(t){t.enter&&t.enter(y),this.stateStack.push(t)},g.prototype.popState=function(){this.currentState()&&(this.currentState().leave&&this.currentState().leave(y),this.stateStack.pop())},g.prototype.stop=function(){clearInterval(this.intervalId)},g.prototype.keyDown=function(t){this.pressedKeys[t]=!0,this.currentState()&&this.currentState().keyDown&&this.currentState().keyDown(this,t)},g.prototype.touchstart=function(t){this.currentState()&&this.currentState().keyDown&&this.currentState().keyDown(this,32)},g.prototype.touchend=function(t){delete this.pressedKeys[39],delete this.pressedKeys[37]},g.prototype.touchmove=function(t){var e=t.changedTouches[0].pageX;this.previousX>0&&(e>this.previousX?(delete this.pressedKeys[37],this.pressedKeys[39]=!0):(delete this.pressedKeys[39],this.pressedKeys[37]=!0)),this.previousX=e},g.prototype.keyUp=function(t){delete this.pressedKeys[t],this.currentState()&&this.currentState().keyUp&&this.currentState().keyUp(this,t)},m.prototype.enter=function(t){t.sounds=new C,t.sounds.init(),t.sounds.loadSound("shoot","sounds/shoot.wav"),t.sounds.loadSound("bang","sounds/bang.wav"),t.sounds.loadSound("explosion","sounds/explosion.wav")},m.prototype.update=function(t,e){},m.prototype.draw=function(t,e,i){i.clearRect(0,0,t.width,t.height),i.font="30px Arial",i.fillStyle="#ffffff",i.textBaseline="middle",i.textAlign="center",i.fillText("Space Invaders",t.width/2,t.height/2-40),i.font="16px Arial",i.fillText("Press 'Space' or touch to start.",t.width/2,t.height/2)},m.prototype.keyDown=function(t,e){32==e&&(t.level=1,t.score=0,t.lives=3,t.moveToState(new S(t.level)))},w.prototype.update=function(t,e){},w.prototype.draw=function(t,e,i){i.clearRect(0,0,t.width,t.height),i.font="30px Arial",i.fillStyle="#ffffff",i.textBaseline="center",i.textAlign="center",i.fillText("Game Over!",t.width/2,t.height/2-40),i.font="16px Arial",i.fillText("You scored "+t.score+" and got to level "+t.level,t.width/2,t.height/2),i.font="16px Arial",i.fillText("Press 'Space' to play again.",t.width/2,t.height/2+40)},w.prototype.keyDown=function(t,e){32==e&&(t.lives=3,t.score=0,t.level=1,t.moveToState(new S(1)))},x.prototype.enter=function(t){this.ship=new k(t.width/2,t.gameBounds.bottom),this.invaderCurrentVelocity=10,this.invaderCurrentDropDistance=0,this.invadersAreDropping=!1;var e=this.level*this.config.levelDifficultyMultiplier,i=this.level<this.config.limitLevelIncrease?this.level:this.config.limitLevelIncrease;this.shipSpeed=this.config.shipSpeed,this.invaderInitialVelocity=this.config.invaderInitialVelocity+e*this.config.invaderInitialVelocity*1.5,this.bombRate=this.config.bombRate+e*this.config.bombRate,this.bombMinVelocity=this.config.bombMinVelocity+e*this.config.bombMinVelocity,this.bombMaxVelocity=this.config.bombMaxVelocity+e*this.config.bombMaxVelocity,this.rocketMaxFireRate=this.config.rocketMaxFireRate+.4*i;for(var n=this.config.invaderRanks+.1*i,s=this.config.invaderFiles+.2*i,o=[],h=0;h<n;h++)for(var a=0;a<s;a++)o.push(new M(t.width/2+200*(s/2-a)/s,t.gameBounds.top+20*h,h,a,"Invader"));this.invaders=o,this.invaderCurrentVelocity=this.invaderInitialVelocity,this.invaderVelocity={x:-this.invaderInitialVelocity,y:0},this.invaderNextVelocity=null},x.prototype.update=function(t,e){t.pressedKeys[37]&&(this.ship.x-=this.shipSpeed*e),t.pressedKeys[39]&&(this.ship.x+=this.shipSpeed*e),t.pressedKeys[32]&&this.fireRocket(),this.ship.x<t.gameBounds.left&&(this.ship.x=t.gameBounds.left),this.ship.x>t.gameBounds.right&&(this.ship.x=t.gameBounds.right);for(var i=0;i<this.bombs.length;i++){(p=this.bombs[i]).y+=e*p.velocity,p.y>this.height&&this.bombs.splice(i--,1)}for(i=0;i<this.rockets.length;i++){(d=this.rockets[i]).y-=e*d.velocity,d.y<0&&this.rockets.splice(i--,1)}var n=!1,s=!1,o=!1;for(i=0;i<this.invaders.length;i++){var h=(r=this.invaders[i]).x+this.invaderVelocity.x*e,a=r.y+this.invaderVelocity.y*e;0==n&&h<t.gameBounds.left?n=!0:0==s&&h>t.gameBounds.right?s=!0:0==o&&a>t.gameBounds.bottom&&(o=!0),n||s||o||(r.x=h,r.y=a)}for(this.invadersAreDropping&&(this.invaderCurrentDropDistance+=this.invaderVelocity.y*e,this.invaderCurrentDropDistance>=this.config.invaderDropDistance&&(this.invadersAreDropping=!1,this.invaderVelocity=this.invaderNextVelocity,this.invaderCurrentDropDistance=0)),n&&(this.invaderCurrentVelocity+=this.config.invaderAcceleration,this.invaderVelocity={x:0,y:this.invaderCurrentVelocity},this.invadersAreDropping=!0,this.invaderNextVelocity={x:this.invaderCurrentVelocity,y:0}),s&&(this.invaderCurrentVelocity+=this.config.invaderAcceleration,this.invaderVelocity={x:0,y:this.invaderCurrentVelocity},this.invadersAreDropping=!0,this.invaderNextVelocity={x:-this.invaderCurrentVelocity,y:0}),o&&(t.lives=0),i=0;i<this.invaders.length;i++){for(var r=this.invaders[i],l=!1,c=0;c<this.rockets.length;c++){var d;if((d=this.rockets[c]).x>=r.x-r.width/2&&d.x<=r.x+r.width/2&&d.y>=r.y-r.height/2&&d.y<=r.y+r.height/2){this.rockets.splice(c--,1),l=!0,t.score+=this.config.pointsPerInvader;break}}l&&(this.invaders.splice(i--,1),t.sounds.playSound("bang"))}var u={};for(i=0;i<this.invaders.length;i++){(!u[(r=this.invaders[i]).file]||u[r.file].rank<r.rank)&&(u[r.file]=r)}for(i=0;i<this.config.invaderFiles;i++){if(r=u[i])this.bombRate*e>Math.random()&&this.bombs.push(new I(r.x,r.y+r.height/2,this.bombMinVelocity+Math.random()*(this.bombMaxVelocity-this.bombMinVelocity)))}for(i=0;i<this.bombs.length;i++){var p;(p=this.bombs[i]).x>=this.ship.x-this.ship.width/2&&p.x<=this.ship.x+this.ship.width/2&&p.y>=this.ship.y-this.ship.height/2&&p.y<=this.ship.y+this.ship.height/2&&(this.bombs.splice(i--,1),t.lives--,t.sounds.playSound("explosion"))}for(i=0;i<this.invaders.length;i++){(r=this.invaders[i]).x+r.width/2>this.ship.x-this.ship.width/2&&r.x-r.width/2<this.ship.x+this.ship.width/2&&r.y+r.height/2>this.ship.y-this.ship.height/2&&r.y-r.height/2<this.ship.y+this.ship.height/2&&(t.lives=0,t.sounds.playSound("explosion"))}t.lives<=0&&t.moveToState(new w),0===this.invaders.length&&(t.score+=50*this.level,t.level+=1,t.moveToState(new S(t.level)))},x.prototype.draw=function(t,e,i){i.clearRect(0,0,t.width,t.height),i.fillStyle="#999999",i.fillRect(this.ship.x-this.ship.width/2,this.ship.y-this.ship.height/2,this.ship.width,this.ship.height),i.fillStyle="#006600";for(var n=0;n<this.invaders.length;n++){var s=this.invaders[n];i.fillRect(s.x-s.width/2,s.y-s.height/2,s.width,s.height)}i.fillStyle="#ff5555";for(n=0;n<this.bombs.length;n++){var o=this.bombs[n];i.fillRect(o.x-2,o.y-2,4,4)}i.fillStyle="#ff0000";for(n=0;n<this.rockets.length;n++){var h=this.rockets[n];i.fillRect(h.x,h.y-2,1,4)}var a=t.gameBounds.bottom+(t.height-t.gameBounds.bottom)/2+7;i.font="14px Arial",i.fillStyle="#ffffff";var r="Lives: "+t.lives;i.textAlign="left",i.fillText(r,t.gameBounds.left,a),r="Score: "+t.score+", Level: "+t.level,i.textAlign="right",i.fillText(r,t.gameBounds.right,a),this.config.debugMode&&(i.strokeStyle="#ff0000",i.strokeRect(0,0,t.width,t.height),i.strokeRect(t.gameBounds.left,t.gameBounds.top,t.gameBounds.right-t.gameBounds.left,t.gameBounds.bottom-t.gameBounds.top))},x.prototype.keyDown=function(t,e){32==e&&this.fireRocket(),80==e&&t.pushState(new b)},x.prototype.keyUp=function(t,e){},x.prototype.fireRocket=function(){(null===this.lastRocketTime||(new Date).valueOf()-this.lastRocketTime>1e3/this.rocketMaxFireRate)&&(this.rockets.push(new V(this.ship.x,this.ship.y-12,this.config.rocketVelocity)),this.lastRocketTime=(new Date).valueOf(),y.sounds.playSound("shoot"))},b.prototype.keyDown=function(t,e){80==e&&t.popState()},b.prototype.draw=function(t,e,i){i.clearRect(0,0,t.width,t.height),i.font="14px Arial",i.fillStyle="#ffffff",i.textBaseline="middle",i.textAlign="center",i.fillText("Paused",t.width/2,t.height/2)},S.prototype.update=function(t,e){void 0===this.countdown&&(this.countdown=3),this.countdown-=e,this.countdown<2&&(this.countdownMessage="2"),this.countdown<1&&(this.countdownMessage="1"),this.countdown<=0&&t.moveToState(new x(t.config,this.level))},S.prototype.draw=function(t,e,i){i.clearRect(0,0,t.width,t.height),i.font="36px Arial",i.fillStyle="#ffffff",i.textBaseline="middle",i.textAlign="center",i.fillText("Level "+this.level,t.width/2,t.height/2),i.font="24px Arial",i.fillText("Ready in "+this.countdownMessage,t.width/2,t.height/2+36)},C.prototype.init=function(){var t=window.AudioContext||window.webkitAudioContext;this.audioContext=new t,this.mute=!1},C.prototype.loadSound=function(t,e){var i=this;this.sounds[t]=null;var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){i.audioContext.decodeAudioData(n.response,function(e){i.sounds[t]={buffer:e}})};try{n.send()}catch(s){console.log("An exception occured getting sound the sound "+t+" this might be because the page is running from the file system, not a webserver."),console.log(s)}},C.prototype.playSound=function(t){if(void 0!==this.sounds[t]&&null!==this.sounds[t]&&!0!==this.mute){var e=this.audioContext.createBufferSource();e.buffer=this.sounds[t].buffer,e.connect(this.audioContext.destination),e.start(0)}};n.Component;var D=i(91),R=i(92),B=i(93),A=i(29),T=i(47),E=i.n(T),O=i(5);var N=Object(O.a)(function(t){return{root:{display:"flex"},appBar:{zIndex:t.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,padding:t.spacing(3)},toolbar:t.mixins.toolbar}},{withTheme:!0})(function(t){var e=t.classes;return s.a.createElement(D.a,{position:"fixed",style:{backgroundColor:"#349ad8"},className:e.appBar},s.a.createElement(R.a,null,s.a.createElement(B.a,{color:"inherit",onClick:function(){return t.menuClick()}},s.a.createElement(E.a,null)),s.a.createElement(A.a,{style:{width:"100%",fontFamily:"Ubuntu"},variant:"h6",align:"center"},"Workshop ",s.a.createElement("b",null,"XML + JSON"))))}),K=i(3),j=i(97),z=i(94),F=i(95),L=i(96);var X=Object(O.a)(function(t){return{root:{display:"flex"},appBar:{zIndex:t.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,padding:t.spacing(3)},toolbar:t.mixins.toolbar,menuHeader:{padding:t.spacing(2)},menuItem:{fontFamily:"Ubuntu",fontSize:"1.15em"},menuItemIcon:{marginRight:"5px",fontWeight:"bold",fontFamily:"Varela Round, sans-serif"},menuItemIconXML:{color:"#ff9100"},menuItemIconJSON:{color:"#9f6bab"}}},{withTheme:!0})(function(t){var e=t.classes,i=[{title:"XML",icon:"</>",style:e.menuItemIconXML},{title:"JSON",icon:"{ ; }",style:e.menuItemIconJSON}];return s.a.createElement(j.a,{className:e.drawer,variant:"temporary",classes:{paper:e.drawerPaper},open:t.menuOpen,onClose:function(){return t.closeMenu()}},s.a.createElement("div",{className:e.menuHeader},s.a.createElement(A.a,{variant:"h5",style:{fontFamily:"Ubuntu"}},"Desafios")),s.a.createElement(z.a,null,i.map(function(t,i){return s.a.createElement(F.a,{key:i,button:!0},s.a.createElement(L.a,null,s.a.createElement(A.a,{className:e.menuItem},s.a.createElement("span",{className:Object(K.a)(t.style,e.menuItemIcon)},t.icon),s.a.createElement("span",null,t.title))))})))});var P=Object(O.a)(function(t){return{root:{display:"flex"},appBar:{zIndex:t.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,padding:t.spacing(3)},toolbar:t.mixins.toolbar}},{withTheme:!0})(function(t){var e=t.classes;return s.a.createElement("div",{className:e.content})}),H=function(t){function e(t){var i;return Object(a.a)(this,e),(i=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={menuOpen:!1},i.debounceChange=p.a.debounce(i.handleChange,200),i}return Object(d.a)(e,t),Object(r.a)(e,[{key:"handleChange",value:function(t){console.log(t)}},{key:"openMenu",value:function(){this.setState({menuOpen:!0})}},{key:"closeMenu",value:function(){this.setState({menuOpen:!1})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"app"},s.a.createElement(N,{menuClick:function(){return t.openMenu()}}),s.a.createElement(X,{menuOpen:this.state.menuOpen,closeMenu:function(){return t.closeMenu()}}),s.a.createElement(P,null))}}]),e}(s.a.Component);h.a.render(s.a.createElement(H,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.1e98d5fb.chunk.js.map